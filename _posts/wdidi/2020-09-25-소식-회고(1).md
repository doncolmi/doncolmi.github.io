---
layout: post
title: 개인 프로젝트 - 소 식 회고(1)
date: 2020-09-25 21:00:12 +0000
description: sosik
img: ./wdidi/sosik.png
tags: [What_did_i_do_it]
---

어제(글을 쓰고 있는 9월 25일을 기준으로 어제이다.) 드디어 개인 프로젝트를 완성했다. 완성이라기보다는 뜯어고쳤다라고 하는 말이 잘 어울리는 프로젝트였다.

### 프로젝트 개요

---

사실 개요라고 할 것도 없다. 이 프로젝트 왜 했어요 묻는다면 그냥 하고 싶어서 라고 할 수 밖에 없다. 공공성이건 뭐건 그냥 무언가를 만들고 싶었다.

<center><img src="/assets/img/wdidi/2020-09-14-8월-회고/0.png"></center>
<center><small>무슨...생각을 가지고 하진 않았습니다.</small></center>

일단 가장 중요한건 **크롤링을 사용하고 싶었다.** 그리고 **Node.js**를 사용하고 싶었다. 그리하여 Express.js와 SpringBoot를 이용해서 처음 프로젝트를 구성했었다.

아니 왜 Express.js와 SpringBoot를 쓴거지? 하는 의문이 지금도 든다. 무슨 생각이었는지도 모르겠다 사실 막연히 Node.js를 사용하고 싶었다는 생각뿐이었다.

그래서 1학기 프로젝트 과제로 낸 프로젝트의 특징은 아래와 같다.

- 크롤링, 페이지 라우팅 및 렌더링 엔진(은 PUG를 사용했다.)까지 Express를 사용했다.

  ⇒ 프론트와 백을 구분하는건 물론 제작하는 사람 마음대로이다. 하지만 이건 너무 구분없고 난잡했다.

- DB에서 데이터 요청이나 크롤링 데이터 삽입은 SpringBoot를 사용했다.

  ⇒ 회원 정보나 보안등에 관하여 신경 쓰지 않았다. 그리고 크롤링 데이터는 MongoDB를 사용해 쌓았어도 괜찮았을 것 같았다.

- DB는 MariaDB를 사용했다.

  ⇒ 그냥 이건 작년에 사용했던 OracleDB와 다른 RDB를 사용하고 싶어서...

- 세션을 위해 Redis를 사용했다.

  ⇒ 이 선택은 지금도 후회한다. 제대로 된 공부없이 사용하니...

그렇게 해서 만들어진게 소 식 이라는 프로젝트였고, 개발은 1월 달에 들어가 4월달에 마무리 했고(중간에 탱자탱자 놀았다.) 그리고 4월달부턴 여자친구의 프로젝트나 다른 동기들의 프로젝트를 도와주었다. 그렇게 6월달에 제출하고 영상을 만들고 1학기가 끝났을 때...

**아니, 이거 더 잘 만들 수 있을거 같은데...**하는 생각이 계속 맴돌았다.

<center><img src="/assets/img/wdidi/2020-09-14-8월-회고/1.png"></center>
<center><small>아니 진짜로...</small></center>

확실히 학교 커리큘럼에 벗어난 공부를 하고 있는 나한텐 기초도 부족했고 프로젝트를 진행하면서 배워가는게 많았다. 그렇기에 내가 만들고 있는게 엉망이란 것을 알게 되었고, 사실 프로젝트 진행이 느려진 이유는 내 습관 때문이다. 프로젝트 구조가 난잡해지고 엉망이 된다면 IDE에 들어가기도 싫어지는 그런...

아무튼 그래서 아래와 같은 모습으로 바꾸려고 했다.

- 백엔드와 프론트엔드를 확실히 구분하자, 그리고 프론트엔드에는 React를 쓰자!

  ⇒ 백엔드 서버는 API서버로만 사용하자! 라고 생각했고 Express를 사용하였고 프론트에는 React를 사용하였다.

  ⇒ 사실 이 전에는 Vue.js를 사용하여 Flol이란 프로젝트를 진행했었다. Flol이란 프로젝트는 2학기 프로젝트 과제를 위하여 접었다. 꼭 완성할 예정이다.

- Oauth2를 사용해서 로그인을 구현해보자

  ⇒ google 로그인과 kakao 로그인을 구현해 볼 생각이었다. 하지만 구글의 정책 때문에 .com 과 같은 도메인을 달고 있지 않다면 애플리케이션 등록이 불가능해져 이는 포기하고 카카오톡 로그인만 진행하였다.

  ⇒ 카카오톡 로그인을 진행하면서 토큰 기반 인증을 하려고 하였고, 또한 여기서도 굳이 Redis를 사용하고 싶지 않아 쿠키를 사용하여 인증을 하려했다.

- MongoDB를 사용해보자

  ⇒ 일단 MongoDB의 비정규화가 맘에 들었다. 물론 Mongoose를 이용해 스키마를 만들고 개발을 진행했지만 MongoDB를 경험해보고 싶었기에 사용했다.

  ⇒ 결론적으로 말하자면 확실히 유저 정보는 RDB에서 관리하고 크롤링 데이터는 무심한 듯(?) NoSQL에 쌓아두는게 좋을 것 같다.

- TypeScript를 써보자.

  ⇒ TypeScript는 처음에 들었을 때는 뭔가 어색했고 나와는 먼 거리에 있는 언어 같았다. 실제로 동적 언어가 매력인 JavaScript에서 굳이 TypeScript를 쓴다고? 하는 생각도 들었다. 뭐...하지만 막상 사용해보니 아...왜 쓰는지 알겠다. 이런 생각이 들었다.

  ⇒ 하지만 앞으로 개인 프로젝트나 작은 규모의 프로젝트를 할 때에는...**굳이 쓰고 싶지 않다는 생각**이 들 만한 작은 사건사고들도 있었다...

그래서 8월 부터 개발에 들어갔고, TypeScript를 이용해 구성을 하려고 여러 Github 저장소들을 뒤졌었다. 그리고 Star가 많은 저장소들을 참고해서 프로젝트 구조를 짰다.

저번 주(9월 17일 쯤)에 드디어 기능을 모두 완성하였고 이제는 라이브 데모를 띄우기 위해서 AWS와의 싸움이었다. 아쉽게도 나는 프리티어가 끝난 계정을 가지고 있었고...(아이디 하나 더 파는게 어떰? 이라는 조언도 있었지만, 그래도 염치가 있지.)

그래서 그나마 가입할 때 받은 150달러 상당의 크레딧을 사용하기로 했다. 일단 가장 무난하게 lightsail을 이용하여 3개의 서버를 구축했다.

그렇게 오늘 SSL까지 모두 적용하였다.

<center><img src="/assets/img/wdidi/2020-09-14-8월-회고/2.png"></center>

API서버는 2048비트 pem키를 만들어서 A 등급을 맞았다. ~~_개같은 크롬만 아니었어도 이런 고생 안했는데 쓸모없이 보안이 뛰어나다._~~

### 그래서 이 글 쓴 이유는 뭐냐?

---

프로젝트도 다 완성했고, 조금 여유가 생겼다. 물론 다음에 할 토이 프로젝트도 정해놔서 일단 바로 작업은 들어갈 것인데, 소 식이라는 프로젝트를 만들면서 내가 한 뻘짓들을 공유해보려고 한다.

물론 볼 사람은 적겠지만 회고록과 같이 써볼려고 한다. 일단 다음 글은 아마 TypeScript를 도입한 이야기가 될거 같다.
